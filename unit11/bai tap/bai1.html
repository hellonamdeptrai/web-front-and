<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>Bài 1</title>
	<link rel="stylesheet" href="css/bai1.css">
	<script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>
</head>
<body>
	<div id="main">
	    <h3 style="background-color: #2184be;">1. Account</h3>
	    <div style="display: block;">
	        <p>User name *</p> 
	        <input id="userName" name="userName" type="text"><span class="loi"></span>
            <p>Password *</p>
            <input id="password" type="password"><span class="loi"></span>
            <p>Confirm Password *</p>
            <input id="confirm" type="password"><span class="loi"></span>
	        <p>(*) Mandatory</p>
	    </div>
	    <h3>2. Profile</h3>
	    <div>
	        <p>First name *</p>
	        <input id="name" type="text"><span class="loi"></span>
	        <p>Last name *</p>
	        <input id="surname" type="text"><span class="loi"></span>
	        <p>Email *</p>
	        <input id="email" type="text"><span class="loi"></span>
	        <p>Address</p>
	        <input id="address" type="text">
	        <p>Age (The warning step will show up if age is less than 18) *</p>
	        <input id="age" type="text"><span class="loi"></span>
	        <p>(*) Mandatory</p>
	    </div>
	    <h3>3. Warning</h3>
	    <div>
	        <p>Phải trên 18 tuổi mới cho đăng ký :)))</p>
	    </div>
	    <h3>4. Finish</h3>
	    <div>
	        <input id="acceptTerms" type="checkbox">I agree with the Terms and Conditions.*<span class="loi"></span>
	        <p>(*) Mandatory</p>
	    </div>
	    <div></div>
	</div>
	<div id="nutbam">
		<button>Previous</button>
		<button>Next</button>
	</div>

	<script type="text/javascript">
		$(document).ready(function () {
			var hihi;
			function next () {
				var noidung = $('#main>div');
				var menu = $('#main>h3');
				function validateEmail(email) {
    				var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
   					return re.test(String(email).toLowerCase());
				}
				for (var i = 0; i < noidung.length; i++) {
					$(noidung[i]).css({'display':'none'});
				}
				for (var i = 0; i < menu.length; i++) {
					$(menu[i]).css({'background':'#9dc8e2'});
				}
				$(noidung[hihi]).css({'display':'block'});
				$(menu[hihi]).css({'background':'#2184be'});

				if ($('#userName').val() == "") {
					$('.loi').eq(0).text("Tên không được để trống");
					return;
				}else{
					$('.loi').eq(0).text("");
				}
				if ($('#password').val() == "") {
					$('.loi').eq(1).text("Mật khẩu không được để trống");
					return;
				}else if ($('#password').val().length < 8){
					$('.loi').eq(1).text("Mật khẩu phải trên 8 ký tự");
					return;
				}else{
					$('.loi').eq(1).text("");
				}
				if ($('#confirm').val() == "") {
					$('.loi').eq(2).text("Mật khẩu không được để trống");
					return;
				}else if ($('#confirm').val() != $('#password').val()) {
					$('.loi').eq(2).text("Mật khẩu không khớp");
					return;
				}else{
					$('.loi').eq(2).text("");
				}

				hihi = 1;
				if ($('#name').val() == "") {
					$('.loi').eq(3).text("First name không được để trống");
					return;
				}else{
					$('.loi').eq(3).text("");
				}
				if ($('#surname').val() == "") {
					$('.loi').eq(4).text("Last name không được để trống");
					return;
				}else{
					$('.loi').eq(4).text("");
				}
				if ($('#email').val() == "") {
					$('.loi').eq(5).text("Email không được để trống");
					return;
				}else if (!validateEmail($('#email').val())) {
					$('.loi').eq(5).text("Email không đúng định dạng");
					return;
				}else{
					$('.loi').eq(5).text("");
				}
				if ($('#age').val() == "") {
					$('.loi').eq(6).text("Tuổi không được để trống");
					return;
				}else{
					$('.loi').eq(6).text("");
				}
				hihi=2;
				if ($('#age').val() < 18) {
					hihi = 2;
					return;
				}else{
					hihi= 3;
				}
				if ($('#acceptTerms').prop("checked") == false) {
					$('.loi').eq(7).text("Bạn phải chấp nhận với chính sách của bọn tôi :)))");
					return;
				}else{
					alert('Đăng ký thành công');
				}
				window.location = "";
			};
			function previous () {
				var noidung = $('#main>div');
				var menu = $('#main>h3');
				for (var i = 0; i < noidung.length; i++) {
					$(noidung[i]).css({'display':'none'});
				}for (var i = 0; i < menu.length; i++) {
					$(menu[i]).css({'background':'#9dc8e2'});
				}
				$(noidung[hihi]).css({'display':'block'});
				$(menu[hihi]).css({'background':'#2184be'});
				hihi--;
				if (hihi == -1) {
          	 		hihi = 0;
          		};
			};
			$('button').eq(1).on('click', next);
			$('button').eq(0).on('click', previous);
			next(hihi = 0);
		});
	</script>
</body>
</html>